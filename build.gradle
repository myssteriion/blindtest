buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath "org.springframework.boot:spring-boot-gradle-plugin:2.1.5.RELEASE"
    }
}

apply plugin: "java"
apply plugin: "eclipse"
apply plugin: "org.springframework.boot"

group = "com.myssteriion"
version = "1.0"
sourceCompatibility = "1.8"

repositories {
	mavenCentral()
}

dependencies {
	implementation "org.springframework.boot:spring-boot-starter:2.1.5.RELEASE"
	implementation "org.springframework.boot:spring-boot-starter-web:2.1.5.RELEASE"
	implementation "com.h2database:h2:1.4.199"
	implementation "com.googlecode.junit-toolbox:junit-toolbox:2.4"
	implementation "ch.qos.logback:logback-core:1.2.3"
	
	testImplementation "org.springframework.boot:spring-boot-starter-test:2.1.5.RELEASE"
}



def deliveryFolder = "delivery"
def logsFolder = "logs"

clean {
	delete deliveryFolder
}

build {
	doLast {
		copy {
		    from "conf"
	    	include "**/*"
		    into deliveryFolder
		}
		copy {
		    from "build/libs/"
		    include "*"
		    into deliveryFolder
		}
		delete logsFolder
	}
}

test {
    exclude "**/TestSuite.class"
}
